function initialize(){{var e=new google.maps.LatLng(59.93912,30.3201),o={zoom:17,center:e,panControl:!1,zoomControl:!1,scaleControl:!1,rotateControl:!1,mapTypeControl:!1,streetViewControl:!1,overviewMapControl:!1,mapTypeId:google.maps.MapTypeId.ROADMAP},a=new google.maps.Map(document.getElementById("map-canvas"),o),s=new google.maps.MarkerImage("img/map-marker.png",new google.maps.Size(231,190),new google.maps.Point(0,0),new google.maps.Point(49,190)),t=new google.maps.LatLng(59.93861,30.32305);new google.maps.Marker({position:t,map:a,icon:s,title:"Nerds"})}}document.addEventListener("load",initialize());var link=document.querySelector(".contacts-btn"),popup=document.querySelector(".modal-content"),close=popup.querySelector(".modal-content-close"),cancel=popup.querySelector(".btn-cancel"),form=popup.querySelector("form"),userName=popup.querySelector("[name='name-field']"),userMail=popup.querySelector("[name='mail-field']"),message=popup.querySelector("[name='message-field']"),storageName=localStorage.getItem("userName"),storageMail=localStorage.getItem("userMail");link.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("modal-content-show"),storageName?(userName.value=storageName,userMail.value=storageMail,message.focus()):userName.focus()}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.contains("modal-content-show")&&popup.classList.remove("modal-content-show")}),cancel.addEventListener("click",function(){popup.classList.contains("modal-content-show")&&popup.classList.remove("modal-content-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&popup.classList.contains("modal-content-show")&&popup.classList.remove("modal-content-show")}),form.addEventListener("submit",function(e){e.preventDefault(),userName.value?userMail.value?message.value?(localStorage.setItem("userName",userName.value),localStorage.setItem("userMail",userMail.value),popup.classList.add("modal-content-hide"),setTimeout(function(){popup.classList.contains("modal-content-show")&&popup.classList.remove("modal-content-show"),popup.classList.contains("modal-content-hide")&&popup.classList.remove("modal-content-hide"),message.value=""},900)):(message.classList.add("modal-error-b"),alert("Не забудьте написать нам сообщение"),message.classList.remove("modal-error-b"),message.focus()):(userMail.classList.add("modal-error-s"),alert("Укажите адрес вашей электронной почты"),userMail.classList.remove("modal-error-s"),userMail.focus()):(userName.classList.add("modal-error-s"),alert("Укажите ваше имя, пожалуйста"),userName.classList.remove("modal-error-s"),userName.focus())});